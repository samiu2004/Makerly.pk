// Simple EN / Urdu translations (short, easy Urdu)
const translations = {
  en: {
    brandName: "Makerly",
    brandTagline: "Local Talent First",
    navBrowse: "Browse freelancers",
    navAbout: "About",
    navPricing: "Pricing",
    navHowItWorks: "How it works",
    navContact: "Contact",
    navBecomeFreelancer: "Become a freelancer",
    navJoin: "Join",
    heroTitle: "Pakistan’s student creators, delivering digital products worldwide.",
    heroSubtitle:
      "Markerly.pk is a creator-first marketplace where students and emerging professionals sell logos, social kits, videos, AI prompts, and more – with only 5% commission from freelancers and 5% from businesses.",
    heroBrowseBtn: "Browse freelancers",
    heroCategoriesBtn: "Explore core categories",
    heroBadgeIBA: "Built by Students of IBA",
    heroBadgeFair: "Fair 5% + 5% commission",
    heroBadgeAI: "AI-ready, beginner friendly",
    heroOverlay1:
      "Our vision is to be a leading global platform for creators to showcase, sell, and grow through their digital products.",
    heroOverlay2:
      "Empowering Pakistani creators with simple, transparent, and low-cost earning tools.",
    heroOverlay3:
      "Everyone deserves a start – Markerly.pk makes the first paid project possible.",
    categoriesTitle: "Core categories",
    categoriesSubtitle:
      "10 focused categories to keep Markerly simple, clear, and beginner friendly.",
    catDesign: "Logo & Brand Design",
    catDesignDesc:
      "Logos, brand kits, social banners, and simple identity packs for startups.",
    catSocial: "Social Media Content",
    catSocialDesc:
      "Post designs, reels thumbnails, carousels and content packs for Instagram, TikTok, and more.",
    catWeb: "Web & Landing Pages",
    catWebDesc:
      "Simple websites, landing pages, and portfolio sites built for conversions.",
    catContent: "Content & Copywriting",
    catContentDesc:
      "Blog posts, captions, product descriptions, and ad copy for small businesses.",
    catVideo: "Video & Editing",
    catVideoDesc:
      "Short-form videos, edits, intro/outro, and basic motion graphics.",
    catAI: "AI & Automation",
    catAIDesc:
      "Chatbot prompts, workflow automation, AI content support with human review.",
    catSEO: "SEO & Performance",
    catSEODesc:
      "On-page SEO, basic audits, and performance improvements for small sites.",
    catVA: "Virtual Assistance",
    catVADesc:
      "Admin support, research, email management, and basic operations help.",
    catTutoring: "Tutoring & Training",
    catTutoringDesc:
      "1:1 sessions on design tools, basic coding, AI tools, and freelancing skills.",
    catBrand: "Brand & Strategy",
    catBrandDesc:
      "Simple brand strategy, positioning, and go-to-market guidance for small brands.",
    commissionTitle: "Fair and transparent commission",
    commissionSubtitle:
      "Markerly.pk charges only 5% from freelancers and 5% from businesses – no hidden fees.",
    commissionFreelancersTitle: "For freelancers",
    commissionFreelancersDesc:
      "Keep 95% of every project. If you earn 10,000 PKR, you receive 9,500 PKR and Markerly earns 500 PKR.",
    commissionClientsTitle: "For businesses",
    commissionClientsDesc:
      "Pay a simple 5% service fee to access verified student talent and managed payouts.",
    visionTitle: "Our vision",
    visionText:
      "Our vision is to be a leading global platform for creators to showcase, sell, and grow through their digital products.",
    missionTitle: "Our mission",
    missionText:
      "Our mission is to facilitate emerging creators and businesses by providing an affordable and beginner friendly platform for digital products. We focus on the Pakistani market and incorporate AI tools to keep up with trends, support every creator’s passion, remain transparent, charge fair commission, and operate at low cost while serving the community in ethical and sustainable ways.",
    visionMissionReadMore: "Read full vision & mission",
    footerMakerly: "Markerly.pk",
    footerOwned: "Designed and owned by Students of IBA.",
    footerLinks: "Quick links",
    footerHowItWorks: "How it works",
    footerBrowse: "Browse freelancers",
    footerPricing: "Commission & pricing",
    footerCategories: "Core categories",
    footerSeeCategories: "See all categories",
    footerContact: "Contact",
    widgetTitle: "Quick settings",
    widgetContact: "Contact us",
    widgetHowItWorks: "How it works"
  },
  ur: {
    brandName: "میگرلی",
    brandTagline: "لوکل ٹیلنٹ فرسٹ",
    navBrowse: "فری لانسرز دیکھیں",
    navAbout: "ہمارے بارے میں",
    navPricing: "پرائسنگ",
    navHowItWorks: "کیسے کام کرتا ہے",
    navContact: "رابطہ",
    navBecomeFreelancer: "فری لانسر بنیں",
    navJoin: "جوائن کریں",
    heroTitle: "پاکستانی طلبہ کری ایٹرز اب دنیا کو ڈیجیٹل سروسز دیتے ہیں۔",
    heroSubtitle:
      "Markerly.pk ایک آسان پلیٹ فارم ہے جہاں طلبہ اور نئے کری ایٹرز لوگو، سوشل میڈیا ڈیزائن، ویڈیوز، AI پرامپٹس اور دوسری سروسز بیچتے ہیں۔ ہم صرف 5٪ فری لانسر سے اور 5٪ بزنس سے چارج کرتے ہیں۔",
    heroBrowseBtn: "فری لانسرز دیکھیں",
    heroCategoriesBtn: "کیٹیگریز دیکھیں",
    heroBadgeIBA: "اسٹوڈنٹس آف آئی بی اے نے بنایا",
    heroBadgeFair: "صاف 5٪ + 5٪ کمیشن",
    heroBadgeAI: "AI فرینڈلی، آسان شروعات",
    heroOverlay1:
      "ہمارا ویژن ہے کہ کری ایٹرز اپنی ڈیجیٹل پروڈکٹس دنیا کو دکھائیں، بیچیں اور بڑھیں۔",
    heroOverlay2:
      "پاکستانی کری ایٹرز کو سادہ، شفاف اور کم قیمت آن لائن کمائی کا موقع دینا۔",
    heroOverlay3:
      "ہر کری ایٹر کو شروعات کا حق ہے – Markerly.pk پہلی کمائی میں مدد کرتا ہے۔",
    categoriesTitle: "بنیادی کیٹیگریز",
    categoriesSubtitle:
      "10 سادہ کیٹیگریز تاکہ Markerly واضح اور بیگنر فرینڈلی رہے۔",
    catDesign: "لوگو اور برانڈ ڈیزائن",
    catDesignDesc:
      "لوگو، برانڈ کٹس، بینرز اور آسان آئیڈنٹٹی پیکج چھوٹے بزنس کے لئے۔",
    catSocial: "سوشل میڈیا کنٹینٹ",
    catSocialDesc:
      "پوسٹ ڈیزائن، ریل تھمب نیلز، کیراؤسل اور سوشل میڈیا کنٹینٹ پیک۔",
    catWeb: "ویب اور لینڈنگ پیجز",
    catWebDesc:
      "سادہ ویب سائٹس اور لینڈنگ پیجز جو کنورژن کے لئے بنائے گئے ہیں۔",
    catContent: "کنٹینٹ اور رائٹنگ",
    catContentDesc:
      "بلاگ، کیپشن، پروڈکٹ ڈسکرپشن اور ایڈ کاپی چھوٹے بزنس کے لئے۔",
    catVideo: "ویڈیو اور ایڈیٹنگ",
    catVideoDesc:
      "شارٹ ویڈیوز، ایڈیٹنگ، انٹرو/آؤٹرو اور بیسک موشن گرافکس۔",
    catAI: "AI اور آٹومیشن",
    catAIDesc:
      "چیٹ بوٹ پرامپٹس، ورک فلو آٹومیشن اور AI کنٹینٹ میں انسانی نظر ثانی۔",
    catSEO: "SEO اور پرفارمنس",
    catSEODesc:
      "آن پیج SEO، سادہ آڈٹ اور ویب سائٹ کی کارکردگی میں بہتری۔",
    catVA: "ورچوئل اسسٹنس",
    catVADesc:
      "ایڈمن سپورٹ، ریسرچ، ای میل مینجمنٹ اور بیسک آپریشنز۔",
    catTutoring: "ٹیوشن اور ٹریننگ",
    catTutoringDesc:
      "ڈیزائن ٹولز، بیسک کوڈنگ، AI ٹولز اور فری لانسنگ سکلز پر 1:1 سیشن۔",
    catBrand: "برانڈ اور اسٹریٹجی",
    catBrandDesc:
      "سادہ برانڈ اسٹریٹجی، پوزیشننگ اور گو ٹو مارکیٹ گائیڈنس۔",
    commissionTitle: "صاف اور شفاف کمیشن",
    commissionSubtitle:
      "Markerly.pk صرف 5٪ فری لانسر سے اور 5٪ بزنس سے لیتا ہے – کوئی چھپا ہوا چارج نہیں۔",
    commissionFreelancersTitle: "فری لانسرز کے لئے",
    commissionFreelancersDesc:
      "ہر پروجیکٹ کا 95٪ آپ کا۔ اگر آپ 10,000 PKR کماتے ہیں تو آپ کو 9,500 PKR ملتے ہیں اور Markerly کو 500 PKR۔",
    commissionClientsTitle: "بزنس کے لئے",
    commissionClientsDesc:
      "صرف 5٪ سروس فیس میں ویریفائیڈ اسٹوڈنٹ ٹیلنٹ اور آسان پی آؤٹس حاصل کریں۔",
    visionTitle: "ہمارا ویژن",
    visionText:
      "ہمارا ویژن ہے کہ کری ایٹرز اپنی ڈیجیٹل پروڈکٹس دنیا کو دکھائیں، بیچیں اور بڑھیں۔",
    missionTitle: "ہمارا مشن",
    missionText:
      "ہمارا مشن ہے کہ نئے کری ایٹرز اور بزنس کو سستا اور بیگنر فرینڈلی پلیٹ فارم دیں جہاں وہ ڈیجیٹل پروڈکٹس بیچ سکیں۔ ہم پاکستانی مارکیٹ پر فوکس کرتے ہیں، AI ٹولز کا استعمال بڑھاتے ہیں، صاف کمیشن رکھتے ہیں، کم خرچ پر چلتے ہیں اور کمیونٹی کو اخلاقی اور پائیدار طریقے سے سروس دیتے ہیں۔",
    visionMissionReadMore: "مزید پڑھیں",
    footerMakerly: "Markerly.pk",
    footerOwned: "اسٹوڈنٹس آف آئی بی اے نے ڈیزائن اور اون کیا ہے۔",
    footerLinks: "جلدی روابط",
    footerHowItWorks: "کیسے کام کرتا ہے",
    footerBrowse: "فری لانسرز دیکھیں",
    footerPricing: "کمیشن اور پرائسنگ",
    footerCategories: "بنیادی کیٹیگریز",
    footerSeeCategories: "تمام کیٹیگریز دیکھیں",
    footerContact: "رابطہ",
    widgetTitle: "جلدی سیٹنگز",
    widgetContact: "ہم سے رابطہ کریں",
    widgetHowItWorks: "کیسے کام کرتا ہے"
  }
};

let currentLang = "en";
let currentCurrency = "PKR";

function applyTranslations() {
  const dict = translations[currentLang];
  if (!dict) return;

  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (dict[key]) {
      el.textContent = dict[key];
    }
  });
}

function formatPrice(amountPKR) {
  if (currentCurrency === "PKR") {
    return `${amountPKR.toLocaleString()} PKR`;
  }
  const rate = 300; // 1 USD ≈ 300 PKR (example)
  const usd = amountPKR / rate;
  return `$${usd.toFixed(1)} USD`;
}

function updatePrices() {
  document.querySelectorAll("[data-price-pkr]").forEach((el) => {
    const base = Number(el.getAttribute("data-price-pkr") || "0");
    el.textContent = formatPrice(base);
  });
}

function setupLanguageAndCurrency() {
  const langToggle = document.getElementById("langToggle");
  const currencyToggle = document.getElementById("currencyToggle");
  const widgetLangToggle = document.getElementById("widgetLangToggle");
  const widgetCurrencyToggle = document.getElementById("widgetCurrencyToggle");

  function toggleLang() {
    currentLang = currentLang === "en" ? "ur" : "en";
    applyTranslations();
  }

  function toggleCurrency() {
    currentCurrency = currentCurrency === "PKR" ? "USD" : "PKR";
    updatePrices();
  }

  if (langToggle) langToggle.addEventListener("click", toggleLang);
  if (widgetLangToggle) widgetLangToggle.addEventListener("click", toggleLang);

  if (currencyToggle) currencyToggle.addEventListener("click", toggleCurrency);
  if (widgetCurrencyToggle)
    widgetCurrencyToggle.addEventListener("click", toggleCurrency);

  applyTranslations();
  updatePrices();
}

// Hero slider
function setupHeroSlider() {
  const slides = document.querySelectorAll(".hero-slide");
  const dots = document.querySelectorAll(".dot");
  if (!slides.length) return;

  let index = 0;

  function showSlide(i) {
    slides.forEach((s, idx) => {
      s.classList.toggle("active", idx === i);
    });
    dots.forEach((d, idx) => {
      d.classList.toggle("active", idx === i);
    });
    index = i;
  }

  dots.forEach((dot) => {
    dot.addEventListener("click", () => {
      const i = Number(dot.getAttribute("data-slide"));
      showSlide(i);
    });
  });

  setInterval(() => {
    const next = (index + 1) % slides.length;
    showSlide(next);
  }, 5000);
}

// Floating widget
function setupFloatingWidget() {
  const widget = document.querySelector(".floating-widget");
  if (!widget) return;
  const btn = widget.querySelector(".floating-btn");
  const panel = widget.querySelector(".floating-panel");
  if (!btn || !panel) return;

  btn.addEventListener("click", () => {
    const visible = panel.style.display === "flex";
    panel.style.display = visible ? "none" : "flex";
  });
}

document.addEventListener("DOMContentLoaded", () => {
  setupLanguageAndCurrency();
  setupHeroSlider();
  setupFloatingWidget();
});
